{"ast":null,"code":"import { mapGetters, mapMutations } from 'vuex';\nexport default {\n  name: 'MyCreateContract',\n  data() {\n    return {\n      newContract: {\n        name: '',\n        type: '',\n        plannedStartDate: '',\n        plannedEndDate: '',\n        actualStartDate: '',\n        actualEndDate: '',\n        amount: '',\n        phases: [{}],\n        contractCounterparties: [{}]\n      },\n      dialog2: false\n    };\n  },\n  methods: {\n    ...mapMutations({\n      addNewContract: 'contracts/ADD_NEW_CONTRACT',\n      addAllContracts: 'contracts/ADD_ALL_CONTRACTS',\n      closeDialog: 'CLOSE_DIALOG'\n    }),\n    sndNewContract() {\n      this.dialog1 = false;\n      const res = {};\n      for (let item in this.newContract) {\n        res[item] = this.newContract[item];\n      }\n      this.addNewContract(res);\n      for (let item in this.newContract) {\n        this.newContract[item] = '';\n      }\n      ;\n      console.log(res);\n    }\n  },\n  computed: {\n    ...mapGetters({\n      headers: 'contracts/headers',\n      contracts: 'contracts/contracts',\n      type: 'contracts/type',\n      stage: 'contracts/stage',\n      dialog1: 'index/dialog1'\n    })\n  }\n};","map":{"version":3,"names":["mapGetters","mapMutations","name","data","newContract","type","plannedStartDate","plannedEndDate","actualStartDate","actualEndDate","amount","phases","contractCounterparties","dialog2","methods","addNewContract","addAllContracts","closeDialog","sndNewContract","dialog1","res","item","console","log","computed","headers","contracts","stage"],"sources":["src/components/MyCreateContract.vue"],"sourcesContent":["<template>\n    <v-app class=\"main\">\n        <v-card>\n                <v-card-title>\n                    <span class=\"text-h5\"\n                    >Добавить новый контракт\n                    </span>\n                </v-card-title>\n                <v-card-text>\n                    <v-text-field \n                        label=\"Название\"\n                        v-model= 'newContract.name'>\n                    </v-text-field>\n                    <v-select\n                        :items=\"type\" \n                        :menu-props=\"{ top: true, offsetY: true }\"\n                        label=\"Тип\"\n                        v-model= \"newContract.type\">\n                    </v-select>\n                    <label>Плановая дата начала\n                        <v-text-field                                \n                            type=\"Date\"\n                            v-model=\"newContract.plannedStartDate\">\n                        </v-text-field>\n                    </label>\n                    <hr>\n                    <label>Плановая дата окончания\n                        <v-text-field                                 \n                            type=\"Date\"\n                            v-model=\"newContract.plannedEndDate\">\n                        </v-text-field>\n                    </label>\n                    <hr>\n                    <label>Фактическая дата начала\n                        <v-text-field                                 \n                            type=\"Date\"\n                            v-model=\"newContract.actualStartDate\">\n                        </v-text-field>\n                    </label>\n                    <hr>\n                    <label>Фактическая дата окончания\n                        <v-text-field                                 \n                            type=\"Date\"\n                            v-model=\"newContract.actualEndDate\">\n                        </v-text-field>\n                    </label> \n                    <v-text-field \n                        label=\"Сумма договора\"\n                        v-model=\"newContract.amount\">\n                    </v-text-field>\n                    <v-divider></v-divider>\n                    <section\n                        \n                        \n                        > \n                    </section>\n                    <section> Организация Контрагент\n                        <v-row> \n                            <v-col><v-text-field  label=\"name\"></v-text-field></v-col>\n                            <v-col><v-text-field  label=\"address\"></v-text-field></v-col>\n                            <v-col><v-text-field  label=\"inn\"></v-text-field></v-col>\n                        </v-row>\n                        <v-btn outlined  icon color=\"blue\"> \n                            <v-icon >mdi-plus</v-icon>\n                        </v-btn>\n                    </section>\n                </v-card-text>\n                <v-card-actions>\n                    <v-spacer></v-spacer>\n                    <v-btn\n                        color=\"blue darken-1\"\n                        text\n                        @click=\"dialog2 = true\"\n                        >Закрыть\n                    </v-btn>\n                    <v-row>\n                        <v-dialog width=\"600px\" justify-center\n                            v-model=\"dialog2\"\n                            >\n                            <v-card>\n                                <v-card-title>\n                                    <div>Вы уверены, что хотите закрыть окно?</div>\n                                    <div>Все несохраненные данные будут утеряны</div>\n                                </v-card-title>\n                                <v-card-actions>\n                                    <v-spacer></v-spacer>\n                                        <v-btn color=\"blue darken-1\"\n                                            text\n                                            @click=\"closeDialog()\"\n                                            >Закрыть\n                                        </v-btn>\n                                        <v-btn color=\"blue darken-1\"\n                                            text\n                                            @click=\"dialog2 = false\"\n                                            >Остаться\n                                        </v-btn>\n                                </v-card-actions>\n                            </v-card>\n                        </v-dialog>\n                    </v-row>\n                    {{ this.newContract.name }}\n                    <v-btn\n                        color=\"blue darken-1\"\n                        text                                \n                        @click=\"createNewContract(), sndNewContract(),  getContractt()\"\n                        >Сохранить\n                    </v-btn>\n                </v-card-actions>\n            </v-card>\n            {{ }}\n    </v-app>\n</template>\n<script>\nimport { mapGetters, mapMutations } from 'vuex';\nexport default {\n    name: 'MyCreateContract',\n    data() {\n        return {\n            newContract:\n                {\n                    name: '',\n                    type: '',\n                    plannedStartDate: '',\n                    plannedEndDate: '',\n                    actualStartDate: '',\n                    actualEndDate: '',\n                    amount: '',\n                    phases: [{ }],\n                    contractCounterparties: [{ }]\n                },\n            \n            dialog2: false,\n            \n        }\n    },\n    methods: {\n        ...mapMutations({\n            addNewContract: 'contracts/ADD_NEW_CONTRACT',\n            addAllContracts: 'contracts/ADD_ALL_CONTRACTS',\n            closeDialog: 'CLOSE_DIALOG'\n        }),\n        sndNewContract() {\n            this.dialog1 = false;\n            const res = {};\n            for (let item in this.newContract) {\n               res[item] = this.newContract[item];\n            }\n            this.addNewContract(res);\n            for (let item in this.newContract) {\n               this.newContract[item] = '';\n            };\n            console.log(res)\n        },\n    },\n    computed:{\n        ...mapGetters({\n            headers: 'contracts/headers',           \n            contracts: 'contracts/contracts',\n            type: 'contracts/type',\n            stage: 'contracts/stage',\n            dialog1: 'index/dialog1'\n        }),\n        \n    },\n}\n\n\n</script>\n\n<style scoped>\n\n\n.content {\n    padding-left: 280px;\n    padding-top: 20px;\n    position: fixed;\n}\n.btn {\n    margin-left:20px\n}\n.table {\n    border: 1px solid black;\n}\nth {\n    width: 250px;\n}\n</style>"],"mappings":"AAiHA,SAAAA,UAAA,EAAAC,YAAA;AACA;EACAC,IAAA;EACAC,KAAA;IACA;MACAC,WAAA,EACA;QACAF,IAAA;QACAG,IAAA;QACAC,gBAAA;QACAC,cAAA;QACAC,eAAA;QACAC,aAAA;QACAC,MAAA;QACAC,MAAA;QACAC,sBAAA;MACA;MAEAC,OAAA;IAEA;EACA;EACAC,OAAA;IACA,GAAAb,YAAA;MACAc,cAAA;MACAC,eAAA;MACAC,WAAA;IACA;IACAC,eAAA;MACA,KAAAC,OAAA;MACA,MAAAC,GAAA;MACA,SAAAC,IAAA,SAAAjB,WAAA;QACAgB,GAAA,CAAAC,IAAA,SAAAjB,WAAA,CAAAiB,IAAA;MACA;MACA,KAAAN,cAAA,CAAAK,GAAA;MACA,SAAAC,IAAA,SAAAjB,WAAA;QACA,KAAAA,WAAA,CAAAiB,IAAA;MACA;MAAA;MACAC,OAAA,CAAAC,GAAA,CAAAH,GAAA;IACA;EACA;EACAI,QAAA;IACA,GAAAxB,UAAA;MACAyB,OAAA;MACAC,SAAA;MACArB,IAAA;MACAsB,KAAA;MACAR,OAAA;IACA;EAEA;AACA"},"metadata":{},"sourceType":"module","externalDependencies":[]}