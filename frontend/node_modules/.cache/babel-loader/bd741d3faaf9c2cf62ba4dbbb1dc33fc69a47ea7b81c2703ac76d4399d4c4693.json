{"ast":null,"code":"import { mapGetters, mapMutations, mapActions } from 'vuex';\nimport MyCreateContract from '../components/MyCreateContract.vue';\nimport MyEditContract from '../components/MyEditContract.vue';\nexport default {\n  name: 'contractPage',\n  components: {\n    MyCreateContract,\n    MyEditContract\n  },\n  props: {},\n  data() {\n    return {\n      contract: [],\n      dialog1: false,\n      dialog2: false,\n      columns: [\"Название \", \"Тип\", \"Планируемая дата    начала  \", \"Плановая дата окончания  \", \"Фактическая дата начала  \", \"Фактическа дата окончания  \", \"Сумма  \", \"Этапы контракта \", \"Контрагенты  \"],\n      NameDelete: '',\n      NameCounterpartiesDelete: ''\n    };\n  },\n  computed: {\n    ...mapGetters({\n      contracts: 'contracts'\n    })\n  },\n  methods: {\n    ...mapActions(['deleteContract']),\n    ...mapActions(['deleteWithContragent'])\n  },\n  activated() {\n    for (let i = 0; i < this.contracts.length; i++) {\n      if (this.$route.params.name === this.contracts[i].name) {\n        this.contract = this.contracts[i];\n        console.log(this.contract);\n        this.NameDelete = this.contract.name;\n        this.NameCounterpartiesDelete = this.contract.contractCounterparties[0].name;\n        console.log(this.NameDelete);\n        console.log(this.NameCounterpartiesDelete);\n        break;\n      }\n    }\n  }\n};","map":{"version":3,"names":["mapGetters","mapMutations","mapActions","MyCreateContract","MyEditContract","name","components","props","data","contract","dialog1","dialog2","columns","NameDelete","NameCounterpartiesDelete","computed","contracts","methods","activated","i","length","$route","params","console","log","contractCounterparties"],"sources":["src/components/MyContrPage.vue"],"sourcesContent":["<template class=\"main\">\n    <v-app> \n        <template>\n            <h1 > Контракт {{ $route.params.name }}</h1>\n        </template>  \n        <v-divider></v-divider>\n        <span margin-left=\"200px\">\n\n            <v-dialog \n                v-model=\"$store.state.dialog8\"\n                persistent\n                max-width=\"1000px\">\n                <template v-slot:activator=\"{ on, attrs }\"> \n                    <v-btn \n                        outlined  \n                        icon color=\"blue\" \n                        v-bind=\"attrs\" \n                        v-on=\"on\">\n                            <v-icon >mdi-pencil</v-icon>\n                    </v-btn>\n                </template>\n                <my-edit-contract></my-edit-contract>\n            </v-dialog> \n            \n            <v-btn @click=\"dialog2=true\"\n                class=\"btn\"\n                outlined\n                icon color=\"red\">\n                <v-icon >mdi-delete</v-icon>\n            </v-btn>\n            <v-dialog v-model=\"dialog2\"\n                max-width=\"600px\">\n                <v-card>                   \n                    <v-card-actions>\n                        <router-link class=\"btn\" :to=\"{name: 'contract'}\">\n                            <v-btn @click=\"dialog2=false, deleteContract(NameDelete)\">Удалить</v-btn>\n                        </router-link>                       \n                        <v-btn @click=\"dialog2=false\">Отмена</v-btn>\n                        <router-link class=\"btn\" :to=\"{name: 'contract'}\">\n                            <v-btn @click=\"dialog2=false, deleteContract(NameDelete), deleteWithContragent(NameCounterpartiesDelete)\">Удалить c агентом</v-btn>\n                        </router-link>\n                    </v-card-actions>\n                </v-card>\n            </v-dialog>\n\n\n            \n        </span>\n        <v-divider></v-divider>\n        <v-container>\n            <v-simple-table class=\"table\">\n                <thead >\n                    \n                    <th v-for=\"(item) in columns\"\n                        :key=\"item\">\n                        {{ item }}\n                    </th>\n                </thead>\n                <tbody>\n                    <td>{{ contract.name }}</td>\n                    <td>{{ contract.type }}</td>\n                    <td>{{ contract.plannedStartDate }}</td>\n                    <td>{{ contract.plannedEndDate }}</td>\n                    <td>{{ contract.actualStartDate }}</td>\n                    <td>{{ contract.actualEndDate }}</td>\n                    <td>{{ contract.amount }}</td>\n                    <td>{{ contract.phases.name }}</td>                   \n                    <td>{{ contract.contractCounterparties}}</td>\n                </tbody>\n            </v-simple-table>\n        </v-container>\n        \n        <v-divider></v-divider>\n        <div v-for=\"(item, name, id) in contract.phases\"  >\n        <p>{{ item.amount }}</p>{{ contract.phases.amount }}</div>\n        <span>   \n            <router-link class=\"btn\" :to=\"{name: 'contract'}\">\n                <v-btn color=\" light\"> Назад в контракты </v-btn>\n            </router-link> \n        </span>\n    </v-app>\n</template>\n\n<script>\nimport { mapGetters, mapMutations, mapActions } from 'vuex';\nimport MyCreateContract from '../components/MyCreateContract.vue';\nimport MyEditContract from '../components/MyEditContract.vue';\nexport default {\n    name: 'contractPage',\n    components: {\n        MyCreateContract,\n        MyEditContract, \n    },\n\n    props: {\n        \n    },\n\n    data() {\n        return {\n            contract: [],\n            dialog1: false,\n            dialog2: false,\n            columns: [\n                \"Название \",\n                \"Тип\",\n                \"Планируемая дата    начала  \",\n                \"Плановая дата окончания  \",\n                \"Фактическая дата начала  \",\n                \"Фактическа дата окончания  \",\n                \"Сумма  \",\n                \"Этапы контракта \",\n                \"Контрагенты  \"         \n            ],\n            NameDelete: '',\n            NameCounterpartiesDelete: '',\n        }\n\n    },\n\n    computed:{\n        ...mapGetters({           \n            contracts: 'contracts',\n        }),       \n    },\n    methods: {\n        ...mapActions(['deleteContract'] ),\n        ...mapActions(['deleteWithContragent'])\n    }, \n    activated() {       \n        for (let i = 0; i<this.contracts.length; i++ ){\n            if (this.$route.params.name === this.contracts[i].name) {\n                this.contract = this.contracts[i]\n                console.log(this.contract)         \n                this.NameDelete = this.contract.name\n                this.NameCounterpartiesDelete = this.contract.contractCounterparties[0].name\n                console.log(this.NameDelete)  \n                console.log(this.NameCounterpartiesDelete)           \n                break                   \n            }                \n        }\n    }\n}\n\n</script>\n\n<style scoped>\nh1 {\n    text-align: center;\n    margin-top: 5%;\n}\ntr, th{\n    width: auto;\n    height: 50px;\n}\n.table {\n    \n    table-layout: fixed;\n  width: 100%;\n    border: 1px solid black;\n}\n.btn {\n    margin-left:20px\n}\n</style>"],"mappings":"AAoFA,SAAAA,UAAA,EAAAC,YAAA,EAAAC,UAAA;AACA,OAAAC,gBAAA;AACA,OAAAC,cAAA;AACA;EACAC,IAAA;EACAC,UAAA;IACAH,gBAAA;IACAC;EACA;EAEAG,KAAA,GAEA;EAEAC,KAAA;IACA;MACAC,QAAA;MACAC,OAAA;MACAC,OAAA;MACAC,OAAA,GACA,aACA,OACA,gCACA,6BACA,6BACA,+BACA,WACA,oBACA,gBACA;MACAC,UAAA;MACAC,wBAAA;IACA;EAEA;EAEAC,QAAA;IACA,GAAAf,UAAA;MACAgB,SAAA;IACA;EACA;EACAC,OAAA;IACA,GAAAf,UAAA;IACA,GAAAA,UAAA;EACA;EACAgB,UAAA;IACA,SAAAC,CAAA,MAAAA,CAAA,QAAAH,SAAA,CAAAI,MAAA,EAAAD,CAAA;MACA,SAAAE,MAAA,CAAAC,MAAA,CAAAjB,IAAA,UAAAW,SAAA,CAAAG,CAAA,EAAAd,IAAA;QACA,KAAAI,QAAA,QAAAO,SAAA,CAAAG,CAAA;QACAI,OAAA,CAAAC,GAAA,MAAAf,QAAA;QACA,KAAAI,UAAA,QAAAJ,QAAA,CAAAJ,IAAA;QACA,KAAAS,wBAAA,QAAAL,QAAA,CAAAgB,sBAAA,IAAApB,IAAA;QACAkB,OAAA,CAAAC,GAAA,MAAAX,UAAA;QACAU,OAAA,CAAAC,GAAA,MAAAV,wBAAA;QACA;MACA;IACA;EACA;AACA"},"metadata":{},"sourceType":"module","externalDependencies":[]}