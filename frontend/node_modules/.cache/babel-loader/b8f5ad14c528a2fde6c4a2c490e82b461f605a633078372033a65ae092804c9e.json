{"ast":null,"code":"import { mapMutations, mapGetters } from 'vuex';\nimport MyMenu from '../components/MyMenu.vue';\nexport default {\n  name: 'MyAdmin',\n  components: {\n    MyMenu\n  },\n  data() {\n    return {\n      thead: {\n        text1: 'Имя',\n        text2: 'Фамилия',\n        text3: 'Отчесвто',\n        text4: \"Логин\",\n        text5: 'Роль',\n        text6: 'Дата регистраци'\n      },\n      username: '',\n      dialog1: false\n    };\n  },\n  methods: {\n    ...mapMutations({\n      addUsers: 'ADD_USERS'\n    }),\n    async getUsers() {\n      try {\n        const response = await axios.get(this.$store.state.url + '/api/menu/administration/users', {\n          headers: {\n            \"Authorization\": \"Bearer \" + localStorage.token\n          }\n        });\n        console.log(response);\n        console.log(response.data[2]);\n        for (let i = 0; i < response.data.length; i++) {\n          console.log(i);\n          this.addUsers(response.data[i]);\n          console.log(response.data[i]);\n        }\n      } catch (e) {\n        alert('Error is true');\n      }\n    }\n  },\n  computed: {\n    ...mapGetters({\n      users: 'users'\n    })\n  },\n  activated() {\n    this.getUsers();\n  }\n};","map":{"version":3,"names":["mapMutations","mapGetters","MyMenu","name","components","data","thead","text1","text2","text3","text4","text5","text6","username","dialog1","methods","addUsers","getUsers","response","axios","get","$store","state","url","headers","localStorage","token","console","log","i","length","e","alert","computed","users","activated"],"sources":["src/components/MyAdmin.vue"],"sourcesContent":["<template class=\"main\">\n    <v-app>    \n        <section >\n            <my-menu></my-menu>\n        </section>\n        <section class=\"content\">\n            <h1>Пользователи</h1>\n            <v-divider></v-divider>\n            <v-dialog v-model=\"dialog1\"\n                    persistent\n                    max-width=\"400px\">\n                    <template v-slot:activator=\"{ on, attrs }\">\n                        <v-btn outlined  \n                            icon color=\"red\"\n                            v-bind=\"attrs\" \n                            v-on=\"on\">\n                                <v-icon>mdi-delete</v-icon>\n                        </v-btn>\n                    </template>\n                    <v-card class=\"card\">\n                        <v-card-text>\n                            Вы уверены, что хотите удалить пользователя?\n                        </v-card-text>\n                        <v-card-actions>\n                            <v-btn @click=\"dialog1=!dialog1\">Отмена</v-btn>\n                            <v-btn @click=\"dialog1=!dialog1\">Удалить</v-btn>\n                        </v-card-actions>\n                    </v-card>\n                </v-dialog>\n\n\n            <v-simple-table class=\"table\">\n                <template v-slot:default>\n                    <thead>\n                        <th v-for=\"name in thead\">\n                            {{ name }}\n                        </th>\n                    </thead>\n                    <tbody>\n                        <tr v-for=\"(item, id, key) in users\"\n                        :key=\"item.name\"\n                        @click=\"username=item.name\"\n                        :class = \"{'blue lighten-5': username===item.name}\"\n                        >\n                            <td v-for=\"items  in item\">\n                                {{ items }} {{ username }}\n                            </td>\n                        </tr>\n                    </tbody>\n                    \n                </template>\n            </v-simple-table>\n            {{ users }}\n            <v-btn @click=\"getUsers\">download</v-btn>\n        </section>\n        <span>   \n            <router-link class=\"btn\" :to=\"{name: 'menu'}\">\n                <v-btn color=\" light\"> Назад</v-btn>\n            </router-link> \n        </span>\n    \n</v-app>\n</template>\n\n<script>\nimport {mapMutations, mapGetters} from 'vuex';\nimport MyMenu from '../components/MyMenu.vue';\nexport default {\n    name: 'MyAdmin',\n    components: {\n        MyMenu,\n    },\n    data() {\n        return {\n            thead: {               \n                text1: 'Имя',\n                text2: 'Фамилия',\n                text3: 'Отчесвто',\n                text4: \"Логин\",\n                text5: 'Роль',\n                text6: 'Дата регистраци'\n            },  \n            username: '',    \n            dialog1: false,     \n        }\n    },\n    methods: {\n        ...mapMutations({\n            addUsers: 'ADD_USERS',\n        }),\n\n        async getUsers() {\n            try {\n                \n                const response = await axios.get(this.$store.state.url + '/api/menu/administration/users', \n                \n                    \n                \n                {headers: {\n                    \"Authorization\":  \"Bearer \" + localStorage.token,               \n                }})\n                console.log(response)\n                console.log(response.data[2])\n                for (let i = 0; i<response.data.length; i++)  {\n                    console.log(i);\n                    this.addUsers(response.data[i])\n                    console.log(response.data[i]);                   \n                }                         \n            } \n            catch(e) {\n                alert('Error is true')\n            }      \n        },\n        \n    },\n    computed:{\n        ...mapGetters({\n            users: 'users',       \n        }),\n        \n    },\n    activated() {\n            this.getUsers()\n    }\n}\n</script>\n\n<style scoped>\n.content {\n    padding-left: 25%;\n    padding-top: 20px;\n    position: fixed;\n}\n.table {\n  \n    height: 400px;\n    border: 1px solid black;\n    overflow-y: auto;\n    text-align: center;\n}\n.card{\n    text-align: center;\n}\n</style>"],"mappings":"AAiEA,SAAAA,YAAA,EAAAC,UAAA;AACA,OAAAC,MAAA;AACA;EACAC,IAAA;EACAC,UAAA;IACAF;EACA;EACAG,KAAA;IACA;MACAC,KAAA;QACAC,KAAA;QACAC,KAAA;QACAC,KAAA;QACAC,KAAA;QACAC,KAAA;QACAC,KAAA;MACA;MACAC,QAAA;MACAC,OAAA;IACA;EACA;EACAC,OAAA;IACA,GAAAf,YAAA;MACAgB,QAAA;IACA;IAEA,MAAAC,SAAA;MACA;QAEA,MAAAC,QAAA,SAAAC,KAAA,CAAAC,GAAA,MAAAC,MAAA,CAAAC,KAAA,CAAAC,GAAA,qCAIA;UAAAC,OAAA;YACA,6BAAAC,YAAA,CAAAC;UACA;QAAA;QACAC,OAAA,CAAAC,GAAA,CAAAV,QAAA;QACAS,OAAA,CAAAC,GAAA,CAAAV,QAAA,CAAAb,IAAA;QACA,SAAAwB,CAAA,MAAAA,CAAA,GAAAX,QAAA,CAAAb,IAAA,CAAAyB,MAAA,EAAAD,CAAA;UACAF,OAAA,CAAAC,GAAA,CAAAC,CAAA;UACA,KAAAb,QAAA,CAAAE,QAAA,CAAAb,IAAA,CAAAwB,CAAA;UACAF,OAAA,CAAAC,GAAA,CAAAV,QAAA,CAAAb,IAAA,CAAAwB,CAAA;QACA;MACA,EACA,OAAAE,CAAA;QACAC,KAAA;MACA;IACA;EAEA;EACAC,QAAA;IACA,GAAAhC,UAAA;MACAiC,KAAA;IACA;EAEA;EACAC,UAAA;IACA,KAAAlB,QAAA;EACA;AACA"},"metadata":{},"sourceType":"module","externalDependencies":[]}